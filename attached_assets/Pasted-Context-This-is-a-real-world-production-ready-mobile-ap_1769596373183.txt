Context

This is a real-world, production-ready mobile app (Expo / React Native) with real backend, authentication, and database already implemented.

‚ö†Ô∏è Do NOT change any UI, styling, layout, colors, animations, navigation, or screen structure.
Only fix logic, validation, and backend-safe functionality to make the app market-ready and APK-stable.

1Ô∏è‚É£ Fix Duration √ó Recurrence Validation (CRITICAL)
Problem

Invalid combinations are currently allowed, such as:

4 days + weekly

days + monthly

Weekly duration generating daily tasks

Required Fix

Implement strict validation and dynamic restriction.

Allowed combinations
Duration Unit	Allowed Recurrence
Days	daily, semi-weekly
Weeks	daily, weekly, semi-weekly
Months	daily, weekly, monthly, semi-monthly
Years	monthly, semi-monthly
Rules

Disable or auto-correct invalid recurrence options

Block submission if invalid combo exists

Show clear validation message explaining why the combo is invalid

2Ô∏è‚É£ Replace Bi-Weekly / Bi-Monthly
Required Change

Remove:

bi-weekly

bi-monthly

Replace with:

semi-weekly ‚Üí twice per week (alternating 3‚Äì4 day gap)

semi-monthly ‚Üí 1st & 16th of each month

Ensure:

No date drift

Month-length safe

Leap-year safe

3Ô∏è‚É£ Task Generation Core Logic (VERY IMPORTANT)
‚ùó NEW RULE (MANDATORY)

üëâ The FIRST generated task must always be scheduled on the COMPLETION DATE of the FIRST occurrence, not on the start date.

Example

Start date: Jan 28

Recurrence: weekly
‚û° First task date: Feb 4, not Jan 28

After the first task:

All remaining tasks are calculated strictly based on recurrence interval

4Ô∏è‚É£ Correct Task Generation Algorithm (NO UI CHANGE)
Rules

Tasks must be generated:

Based on recurrence, not duration

Starting from completion date of first occurrence

Never exceed calculated end date

Never duplicate dates

Never generate daily tasks unless recurrence = daily

Recurrence Definitions

daily ‚Üí every 1 day

semi-weekly ‚Üí alternate 3 days / 4 days

weekly ‚Üí every 7 days

semi-monthly ‚Üí 1st & 16th

monthly ‚Üí same calendar day each month (fallback to last valid day if missing)

5Ô∏è‚É£ Fix Generated Task Count Bug
Problems

Weekly duration producing daily tasks

Incorrect task count shown

Required Fix

Task count must match mathematical expectation

If calculated task count = 0 ‚Üí block submission

Display:

‚ÄúX tasks will be created based on your schedule‚Äù

6Ô∏è‚É£ Fix ‚Äú+ More Dreams‚Äù Button (BLOCKER)
Problem

+ More Dreams button is not functioning.

Required Behavior

Allows user to add multiple dreams sequentially

Each dream saved independently

No overwrite of previous dreams

Backend persistence required (no local-only state)

7Ô∏è‚É£ Login Enhancement (SAFE CHANGE ONLY)
Requirement

Allow user to login using:

Email OR Username

Rules

Existing Google / Phone / Facebook login must remain untouched

Resolve username ‚Üí email at backend level

Do not create duplicate users

Do not break existing auth flows

8Ô∏è‚É£ Backend & Market-Ready Constraints

‚ùå No hardcoded data

‚ùå No mock users

‚ùå No static task lists

‚úÖ All data must be user-specific

‚úÖ App must not crash in APK build

‚úÖ Logic must work offline-safe (graceful failure)

9Ô∏è‚É£ If Anything Is Missing

If any logic improvement, edge-case handling, or data validation is required for correctness or stability,
‚û°Ô∏è Implement it proactively without changing UI.

‚úÖ Expected Output

Fixed validation logic

Correct task scheduling (first task = completion of first occurrence)

Accurate task count

Working ‚Äú+ More Dreams‚Äù

Stable login via email or username

Market-ready backend-safe behavior